<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Prometheus_unix (prometheus-app.unix.Prometheus_unix)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">prometheus-app.unix</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Prometheus_unix</span></h1></header><p>Report metrics for Prometheus.
See: https://prometheus.io/</p><p>Notes:</p><ul><li>This module is intended to be used by applications that export Prometheus metrics.
Libraries should only link against the `Prometheus` module.</li></ul><ul><li>This module automatically initialises itself and registers some standard collectors relating to
GC statistics, as recommended by Prometheus.</li></ul><ul><li>This extends <code class="code">Prometheus_app</code> with support for cmdliner option parsing, a server pre-configured
for Unix, and a start-time metric that uses <code class="code">Unix.gettimeofday</code>.</li></ul><div class="spec type" id="type-config"><a href="#type-config" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>config</code><code></code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-serve"><a href="#val-serve" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>serve : <a href="index.html#type-config">config</a> <span class="keyword">&#8209;&gt;</span> unit Lwt.t list</code></div><div class="doc"><p><code class="code">serve config</code> starts a Cohttp server according to config.
It returns a singleton list containing the thread to monitor,
or an empty list if no server is configured.</p></div></div><div class="spec val" id="val-opts"><a href="#val-opts" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>opts : <a href="index.html#type-config">config</a> Cmdliner.Term.t</code></div><div class="doc"><p><code class="code">opts</code> is the extra command-line options to offer Prometheus
monitoring.</p></div></div></body></html>